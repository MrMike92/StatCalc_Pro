<!DOCTYPE html>
<html lang="es">
<head>
  <link rel="icon" href="img/icon.png" type="image/x-icon">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StatCalc Pro</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Para graficas 2D-->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <!-- Para graficas 3D-->
  <link rel="stylesheet" href="css/style.css" />
</head>
<body class="bg-gradient-to-br from-blue-600 to-teal-300 min-h-screen flex items-center justify-center">
  <div class="flex bg-white rounded-2xl shadow-2xl w-[95%] max-w-7xl overflow-hidden h-[90vh]">

    <!-- Panel lateral de ejemplos -->
    <aside class="w-1/5 bg-slate-900 text-white p-6 flex flex-col items-center">
      <img src="img/logo.png" alt="StatCalc Pro" title="StatCalc Pro" width="170" height="270">
      <br/>
      <div class="w-full bg-slate-800/70 p-4 rounded-xl shadow-inner">
        <h2 class="text-lg font-bold text-center mb-4 text-teal-300">Ejemplos prácticos</h2>

        <div class="flex flex-col gap-2">
          <button onclick="cargarEjemplo('media')" class="btn-ejemplo bg-gradient-to-r from-sky-500 to-blue-600">Media</button>
          <button onclick="cargarEjemplo('mediana')" class="btn-ejemplo bg-gradient-to-r from-indigo-500 to-blue-700">Mediana</button>
          <button onclick="cargarEjemplo('moda')" class="btn-ejemplo bg-gradient-to-r from-fuchsia-500 to-pink-600">Moda</button>
          <button onclick="cargarEjemplo('varianza')" class="btn-ejemplo bg-gradient-to-r from-cyan-500 to-blue-400">Varianza</button>
          <button onclick="cargarEjemplo('desviacion')" class="btn-ejemplo bg-gradient-to-r from-lime-500 to-green-600">Desviación estándar</button>
          <button onclick="cargarEjemplo('anova')" class="btn-ejemplo bg-gradient-to-r from-green-500 to-emerald-600">ANOVA</button>
          <button onclick="cargarEjemplo('chi2')" class="btn-ejemplo bg-gradient-to-r from-purple-500 to-violet-600">Chi²</button>
          <button onclick="cargarEjemplo('correlacion')" class="btn-ejemplo bg-gradient-to-r from-orange-400 to-amber-600">Correlación</button>
          <button onclick="cargarEjemplo('pca2')" class="btn-ejemplo bg-gradient-to-r from-rose-500 to-pink-600">PCA 2D</button>
          <button onclick="cargarEjemplo('pca3')" class="btn-ejemplo bg-gradient-to-r from-cyan-400 to-teal-500">PCA 3D</button>
        </div>

        <p class="text-xs text-gray-300 mt-5 text-center leading-tight">
          Haz clic en un ejemplo para cargar datos automáticamente en la calculadora.
        </p>
      </div>
    </aside>
    
    <!-- Panel principal -->
    <main class="flex w-4/5 p-6 gap-6">
      <!-- Columna izquierda: calculadora -->
      <section class="w-1/2 flex flex-col justify-start">
        <h1 class="text-2xl font-bold text-center text-slate-800 mb-4">
          Calculadora de estadística
        </h1>

        <label class="font-semibold text-slate-700">Introduce los datos:</label>
        <textarea
          id="datos"
          rows="3"
          placeholder="Ejemplo: 10, 15, 20, 25, 30"
          class="w-full border border-gray-300 rounded-lg p-2 mt-1 focus:ring-2 focus:ring-blue-400 focus:outline-none"
        ></textarea>
        <small class="text-gray-500 text-sm">
          Para ANOVA, Chi² y Correlación usa grupos separados por punto y coma (;)
        </small>

        <label class="font-semibold text-slate-700 mt-4 block">Selecciona el método:</label>
        <select
          id="metodo"
          class="w-full border border-gray-300 rounded-lg p-2 mt-1 focus:ring-2 focus:ring-blue-400 focus:outline-none"
        >
          <option value="media">Media</option>
          <option value="mediana">Mediana</option>
          <option value="moda">Moda</option>
          <option value="varianza">Varianza</option>
          <option value="desviacion">Desviación estándar</option>
          <option value="anova">ANOVA</option>
          <option value="chi2">Chi-cuadrado</option>
          <option value="correlacion">Correlación (Pearson)</option>
          <option value="pca">PCA (Componentes principales)</option>
        </select>

        <button
          id="btnCalcular"
          class="bg-blue-700 text-white w-full py-2 rounded-lg mt-5 hover:bg-blue-800 transition"
        >
          Calcular
        </button>

        <div
          id="resultado"
          class="bg-gray-100 border border-gray-300 rounded-lg p-4 mt-6 text-center text-slate-700 font-semibold whitespace-pre-wrap overflow-auto"
        >
          Resultado: —
        </div>
        <!-- Botones de descarga -->
        <div class="flex justify-center gap-4 mt-4">
          <button
            id="btnDescargarResultados"
            class="bg-purple-600 flex text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition"
          ><img src="img/download_txt.png" width="32" height="32">
            Descargar resultados
          </button>
          <button
            id="btnDescargarGrafica"
            class="bg-red-600 flex items-center gap-2 text-white px-2 py-2 rounded-lg hover:bg-orange-700 transition"
          ><img src="img/download_img.png" width="32" height="32">
            Descargar gráfica
          </button>
        </div>
      </section>

      <!-- Columna derecha: se muestran las graficas resultantes -->
      <section class="w-1/2 flex flex-col justify-center items-center bg-gray-50 rounded-xl p-4 shadow-inner">
        <canvas id="grafica" width="800" height="500" class="w-full rounded-lg"></canvas>
        <div id="grafica3d" class="w-full h-[600px] mt-4 rounded-lg" style="display:none;"></div>
      </section>
    </main>
  </div>

  <script src="js/script.js"></script>
</body>
</html>
